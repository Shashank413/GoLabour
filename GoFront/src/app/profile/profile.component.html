<div class="container border border-dark rounded">
    <h5 class="mt-5">Update Profile</h5>
    <hr>
    <div *ngIf="checkUser();then profile1 else profile2"></div>
    <ng-template #profile1>
        <form (ngSubmit)="onSubmit()" [formGroup]="userProfile">
            <div class="pt-3">
                <strong>Personal Information</strong>
                <hr>
            </div>
            <mat-form-field>
                <input matInput placeholder="Name" formControlName="name">
                <mat-error *ngIf="userProfile.get('name').hasError('required')">Name is Required</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput placeholder="Email" formControlName="email" readonly>
            </mat-form-field>
            <mat-form-field>
                <input matInput placeholder="Password" formControlName="password" [type]="hide ? 'text' : 'password' ">
                <mat-icon matSuffix (mouseup)="hide=!hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
                <mat-error *ngIf="userProfile.get('password').hasError('required')">Password is Required</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput placeholder="Mobile Number" formControlName="mobile">
                <mat-error *ngIf="userProfile.get('mobile').hasError('required') || userProfile.get('mobile').hasError('minlength') || userProfile.get('mobile').hasError('maxlength')">Enter a Valid Mobile Number</mat-error>
            </mat-form-field>
            <div class="pt-3" formGroupName="userContact">
                <strong>Contact Information</strong>
                <hr>
                <mat-form-field>
                    <input matInput placeholder="Address Line1" formControlName="address1">
                    <mat-error *ngIf="userProfile.get('userContact.address1').hasError('required')">Address is Required</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Address Line2" formControlName="address2">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="City" formControlName="city">
                    <mat-error *ngIf="userProfile.get('userContact.city').hasError('required')">City is Required</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="State" formControlName="state">
                    <mat-error *ngIf="userProfile.get('userContact.state').hasError('required')">State is Required</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="ZIP Code" formControlName="zipcode">
                    <mat-error *ngIf="userProfile.get('userContact.zipcode').hasError('required')">ZIP Code is Required</mat-error>
                </mat-form-field>
            </div>
            <div class="float-center">
                <button mat-raised-button color="primary" type="submit" [disabled]="userProfile.invalid ">Update</button>
                <button mat-raised-button color="primary" [routerLink]="['/Home']" class="ml-5">Cancel</button>
            </div>
            <div class="mb-5"></div>
        </form>
    </ng-template>

    <ng-template #profile2>
        <form [formGroup]="labourProfile" (ngSubmit)="onSubmit()">
            <div class="pt-3">
                <strong>Personal Information</strong>
                <hr>
            </div>
            <mat-form-field>
                <input matInput placeholder="Name" formControlName="name">
                <mat-error *ngIf="labourProfile.get('name').hasError('required')">Name is Required</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput placeholder="Email" formControlName="email" readonly>
            </mat-form-field>
            <mat-form-field>
                <input matInput placeholder="Password" formControlName="password" [type]="hide ? 'text' : 'password' ">
                <mat-icon matSuffix (mouseup)="hide=!hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
                <mat-error *ngIf="labourProfile.get('password').hasError('required')">Password is Required</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput placeholder="Mobile Number" formControlName="mobile">
                <mat-error *ngIf="labourProfile.get('mobile').hasError('required') || labourProfile.get('mobile').hasError('minlength') || labourProfile.get('mobile').hasError('maxlength')">Enter a Valid Mobile Number</mat-error>
            </mat-form-field>
            <div class="pt-3">
                <strong>Contact Information</strong>
                <hr>
                <mat-form-field>
                    <input matInput placeholder="Address Line1" formControlName="address1">
                    <mat-error *ngIf="labourProfile.get('address1').hasError('required')">Address is Required</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Address Line2" formControlName="address2">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="City" formControlName="city">
                    <mat-error *ngIf="labourProfile.get('city').hasError('required')">City is Required</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="State" formControlName="state">
                    <mat-error *ngIf="labourProfile.get('state').hasError('required')">State is Required</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="ZIP Code" formControlName="zipcode">
                    <mat-error *ngIf="labourProfile.get('zipcode').hasError('required')">ZIP Code is Required</mat-error>
                </mat-form-field>
            </div>
            <div>
                <strong>Skills</strong>
                <hr>
                <mat-form-field>
                    <mat-select formControlName="skill" placeholder="Skill">
                        <mat-option *ngFor="let skill of skills" [value]="skill">{{skill}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field *ngIf="labourProfile.get(skill) == 'Other'">
                    <input matInput placeholder="Other" formControlName="other">
                </mat-form-field>
                <mat-form-field>
                    <mat-select formControlName="work" placeholder="Working Time">
                        <mat-option *ngFor="let work of works" [value]="work">{{work}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Cost</mat-label>
                    <input matInput formControlName="price">
                    <mat-error *ngIf="labourProfile.get('price').hasError( 'required')">Cost is Required</mat-error>
                </mat-form-field>
            </div>
            <div class="float-center">
                <button mat-raised-button color="primary" type="submit" [disabled]="labourProfile.invalid ">Update</button>
                <button mat-raised-button color="primary" [routerLink]="['/Home']" class="ml-5">Cancel</button>
            </div>
            <div class="mb-5"></div>
        </form>
    </ng-template>

</div>